<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>D-CASCADE V2: dcascade-py</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeInteractiveToc.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">D-CASCADE V2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__2github_2workspace_2README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">dcascade-py</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> D-CASCADE (Dynamic CAtchment Sediment Connectivity And Delivery) is a modelling framework for sediment transport and connectivity analysis in large river networks (Tangi et al. (2022), Doolaeghe et al. (in prep)). It is the dynamic version of the CASCADE framework (Schmitt et al. (2016)). A new release (v2.0.0) was recently created (Doolaeghe et al. (in prep)).</p>
<p>This repository contains:</p><ul>
<li>all the core function necessary to run the model (src folder).</li>
<li>one example of user script (user_scripts folder), that can be runned to test the model installation.</li>
<li>examples of inputs to the model (inputs folder)</li>
<li>examples of python script to post-process and analyse the results</li>
</ul>
<p>The model is written in python.</p>
<p>Developers: Diane Doolaeghe, Anne-Laure Argentin, Elisa Bozzolan, Felix Pitscheider</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Installation</h1>
<p>You have two option, depending if you which to version your project under Github or not. Github allows you to track you developments and eventually, later on, add them to the main version (after agreement with the Padova team).</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Installation WITHOUT Github versionning</h2>
<p>On repository page, find the Release section and click on v2.0.0. Then click on "Source code (zip)". This normally starts downloading your project, that should be placed in your download folder. Copy-paste the project somewhere convenient on your computer.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Installation WITH Github versionning</h2>
<p>You may ask to create a branch, or fork the repository, if you wish to use github versionning. For this, contact: ...</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Instructions for installing the conda environment</h2>
<p>We recommand to use python 3.12. Additionnaly, some python packages must be installed before a given version (e.g. pandas 2.2). To respect these requirements we propose you to install a conda environment to run D-CASCADE on your computer.</p>
<p>You will need to have Anaconda or Miniconda installed on your computer. If not, please install <a href="https://docs.anaconda.com/free/anaconda/install/index.html">Anaconda</a>, for your operating system. Note: Anaconda distributes the Python language (so you do not have to download it separately) and automatically manages the python libraries upgrades and dependencies according to your operating system (Windows, Linux etc.). It also allows you to install all the libraries in a virtual environment to avoid any potential damage to your computer.</p>
<p>We have created a virtual environment that contains all the libraries you will need. It is stored in the file environment.yml, which is inside the repository.</p>
<p>Creating a virtual environment requires the <a href="https://conda.io/projects/conda/en/latest/index.html">Conda</a> package manager, which normally comes installed within Anaconda.</p>
<p>Once Anaconda is installed on your computer, you can look for "Anaconda Prompt" on the start menu. Right click on it and open it as an administrator. Then, navigate to the path where your environment.yml file is stored, which is where you have installed your D-CASCADE project :</p>
<div class="fragment"><div class="line">cd name_of_the_path</div>
</div><!-- fragment --><p>The change should be visualised in brackets in your conda shell. To check whether the cascade.yml file is in there you can type: <code>dir</code> and it should appear.</p>
<p>Then, create the environment (called here "dcascade") with the required python version and packages. This may take a few minuts.</p>
<div class="fragment"><div class="line">conda env create -f environment.yml -n dcascade</div>
</div><!-- fragment --><p>And activate it:</p>
<div class="fragment"><div class="line">conda activate dcascade</div>
</div><!-- fragment --><p>If the environment installation from the "environment.yml" file does not work, or is anormally to long, try these lines one after the other:</p>
<div class="fragment"><div class="line">conda env create -n dcascade python=3.12.3</div>
<div class="line">conda activate dcascade</div>
</div><!-- fragment --><div class="fragment"><div class="line">conda install spyder</div>
<div class="line">conda install numpy</div>
<div class="line">conda install tqdm</div>
<div class="line">conda install matplotlib</div>
<div class="line">conda install pandas=2.3.1</div>
<div class="line">conda install networkx=3.5</div>
<div class="line">conda install -c conda-forge geopandas=1.1.1</div>
<div class="line">conda install -c conda-forge shapely=2.0.5</div>
</div><!-- fragment --><p>Now you can call spyder, or open it directly from your start menu (spyder(dcascade)). </p><div class="fragment"><div class="line">spyder</div>
</div><!-- fragment --><p> Spyder is an interpreter where you can visualise and run the python scripts of D-CASCADE</p>
<h2><a class="anchor" id="autotoc_md5"></a>
First D-CASCADE run</h2>
<p>To check if the installation went well, you can use the example, that is ready on the repository (using one small river network of the Vjosa river). Open the user script example, available at "user_scripts\00-DCASCADE_user_script_example_Vjosa.py", in Spyder (you can drag it into Spyder). And run it. You should see a time bar progressing quickly in the Spyder console.</p>
<p>Once done, the simulation should create a folder "cascade_results" in your project, and produce two outputs files (save_all.p and save_all_exp.p). These are pickle files containing all outputs of the model.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
First checking of outputs</h2>
<p>In the folder "post_process_examples", there is a list of python script, that are examples on how to post-process the results, and make graphs:</p>
<ul>
<li>scripts that show how to analyse each reach sediment transport along time (total, per grain size, and by initial provenance, (01, 02, 03))</li>
<li>scripts that show how to analyse yearly sediment transport along the river network (total yearly sum, per grain size, and by initial provenance, (04, 05, 06))</li>
<li>a script to create a dynamic map of the outputs (07)</li>
<li>a script to analyse connectivity and sediment path-length per time step (08)</li>
</ul>
<p>You can run them and check the type of plot they generate for the example case.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Making your own project</h2>
<p>You can modify the user_script example to correspond to your own project. If you are under Github versionning, please duplicate in the same folder the example user script (<a class="el" href="00-DCASCADE__user__script__example__Vjosa_8py.html">00-DCASCADE_user_script_example_Vjosa.py</a>), so that it remains untouched.</p>
<p>Inputs to the model (reachdata and discharge) are generated externally. Examples are provided in the folder "inputs", and instruction for generating them are available at: TODO. In your user script, modify the path to point at your input location.</p>
<p>Modify also the output name to store your own outputs in the dcascade_results folder.</p>
<p>You can modify the simulation parameters to correspond to your river network, and then run your case study.</p>
<p>Modify also the paths in the post-process example scripts, so that they coincide with your output file name in the "dcascade_result" folder.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Documentation of D-CASCADE code functions</h1>
<p><a href="https://dcascade-py.github.io/dcascade-py-doc/index.html">https://dcascade-py.github.io/dcascade-py-doc/index.html</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
